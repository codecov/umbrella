---
description: Git force-push safety guidelines
alwaysApply: true
---

# Git Force-Push Policy

**DO NOT use `git push --force` or `git push --force-with-lease` unless:**

1. **Explicitly instructed by a Sentry skill** (e.g., iterate-pr, commit skills)
2. **User explicitly requests it** with clear language like "force push" or "amend and push"

## Default Workflow

When making changes to an already-pushed branch:

```bash
# ✅ GOOD - Create a new commit
git add .
git commit -m "fix: address review feedback"
git push origin branch-name

# ❌ BAD - Don't amend and force-push by default
git commit --amend --no-edit
git push --force-with-lease origin branch-name
```

## When Force-Push IS Appropriate

- Following the iterate-pr skill workflow (which explicitly manages force-pushing)
- Following the commit skill workflow (which may amend commits)
- User says "amend the commit" or "force push this"
- Cleaning up local commits that have never been pushed
- Rebasing a feature branch (with user approval)

## Why This Matters

- Rewrites git history, making collaboration harder
- Can confuse CI systems and code review flows
- Makes it harder to track what actually changed
- Regular commits preserve the full development history

## Remember

**Prefer additive commits over destructive rewrites.**
